(this["webpackJsonpalkemy-challenge-front"]=this["webpackJsonpalkemy-challenge-front"]||[]).push([[0],{178:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),r=a.n(c),i=a(17),s=a.n(i),o=(a(178),a(282)),l=a(145),j=Object(l.a)({palette:{primary:{main:"#F05454"},secondary:{main:"#30475E"}}}),d=a(19),b=a(23),m=a(12),x=a(76),u=a(260),h=a(284),O=a(262),p=a(263),f=a(264),g=a(265),v=a(132),y=a.n(v),w=a(258),k=a.p+"static/media/alkLogo.68e33a8b.svg",N=Object(w.a)((function(e){return{menuButton:Object(x.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),logo:{flexGrow:1},appBar:Object(x.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240})}}));var S=function(e){var t,a,r=N();return e.menu&&(t=Object(n.jsx)(u.a,{edge:"start",className:r.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return e.actionOpen()},children:Object(n.jsx)(y.a,{})})),e.menu||(a=Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(d.b,{to:"/signin",children:Object(n.jsx)(h.a,{mr:1,children:Object(n.jsx)(O.a,{color:"inherit",href:"/alkemy-challenge-front/signin",children:"Sign in"})})}),Object(n.jsx)(d.b,{to:"/alkemy-challenge-front/signup",children:Object(n.jsx)(h.a,{children:Object(n.jsx)(O.a,{color:"inherit",variant:"outlined",children:"Sign up"})})})]})),Object(n.jsx)(p.a,{position:"fixed",className:e.menu?r.appBar:null,children:Object(n.jsx)(f.a,{children:Object(n.jsxs)(g.a,{children:[t,Object(n.jsx)("div",{className:r.logo,children:Object(n.jsx)(d.b,{to:"/alkemy-challenge-front/",children:Object(n.jsx)("img",{src:k,alt:"logo-alk"})})}),a]})})})},C=a(270),F=a(269),E=a(268),W=a(133),T=a.n(W),I=a(135),R=a.n(I),D=a(136),B=a.n(D),M=a(137),A=a.n(M),L=a(138),Z=a.n(L),$=a(134),_=a.n($),H=a(266),P=a(223),V=a(267),z=function(e){var t;return e.children&&(t=Object(n.jsx)(H.a,{children:e.children})),Object(n.jsx)(d.b,{to:e.link,children:Object(n.jsxs)(P.a,{button:!0,children:[t,Object(n.jsx)(V.a,{primary:e.text,secondary:e.secondaryText})]})})},U=function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(E.a,{component:"nav","aria-label":"cicle",children:[Object(n.jsx)(z,{link:"/alkemy-challenge-front/dashboard",text:"Bienvenidx!",children:Object(n.jsx)(T.a,{})}),Object(n.jsx)(F.a,{}),Object(n.jsx)(z,{link:"/alkemy-challenge-front/dashboard",text:"Dashboard",children:Object(n.jsx)(_.a,{})}),Object(n.jsx)(z,{link:"/alkemy-challenge-front/income",text:"Ingresos",children:Object(n.jsx)(R.a,{})}),Object(n.jsx)(z,{link:"/alkemy-challenge-front/expenses",text:"Egresos",children:Object(n.jsx)(B.a,{})}),Object(n.jsx)(z,{link:"/alkemy-challenge-front/new-operation",text:"Nueva operaci\xf3n",children:Object(n.jsx)(A.a,{})}),Object(n.jsx)(F.a,{}),Object(n.jsx)(z,{link:"/alkemy-challenge-front/logout",text:"Cerrar sesi\xf3n",children:Object(n.jsx)(Z.a,{})})]}),Object(n.jsx)(F.a,{})]})},q=Object(w.a)((function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240},toolbar:e.mixins.toolbar}}));var G=function(e){var t=q();return Object(n.jsxs)(C.a,{className:t.drawer,variant:e.variant,classes:{paper:t.drawerPaper},open:e.open,onClose:e.onClose?e.onClose:null,children:[Object(n.jsx)("div",{className:t.toolbar}),Object(n.jsx)(F.a,{}),Object(n.jsx)(U,{})]})},J=a(286);var K=function(e){var t,a=Object(c.useState)(!1),r=Object(m.a)(a,2),i=r[0],s=r[1],o=function(){s(!i)};return e.menu&&(t=Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(J.a,{smDown:!0,children:Object(n.jsx)(G,{variant:"permanent",open:!0})}),Object(n.jsx)(J.a,{mdUp:!0,children:Object(n.jsx)(G,{variant:"temporary",open:i,onClose:o})})]})),Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(S,{menu:e.menu,actionOpen:o}),t]})},Y=a(271),Q=a(72),X=a.p+"static/media/homeImage.c8777849.svg",ee=Object(w.a)((function(e){return{root:{display:"flex",minHeight:"100vh"},imgContainer:{minWidth:310},img:{width:"100%"},toolbar:e.mixins.toolbar,content:{marginTop:60},btnContainer:{display:"flex",justifyContent:"center"}}}));var te=function(){var e=ee();return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(K,{menu:!1}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:e.toolbar}),Object(n.jsx)(f.a,{className:e.content,children:Object(n.jsxs)(Y.a,{container:!0,spacing:3,className:e.toolbar,alignItems:"center",children:[Object(n.jsx)(Y.a,{item:!0,xs:8,sm:6,className:e.imgContainer,children:Object(n.jsx)("img",{src:X,alt:"home-img",className:e.img})}),Object(n.jsxs)(Y.a,{item:!0,xs:12,sm:6,className:e.div,children:[Object(n.jsx)(Q.a,{variant:"h4",component:"h1",align:"center",color:"textPrimary",children:"Controla tus ingresos y egresos de dinero!"}),Object(n.jsx)(h.a,{mt:3,className:e.btnContainer,children:Object(n.jsx)(d.b,{to:"/alkemy-challenge-front/signup",children:Object(n.jsx)(O.a,{variant:"contained",color:"secondary",children:"Comienza ahora!"})})})]})]})})]})]})},ae=a(47),ne=a(147),ce=a(139),re=a.n(ce),ie=a(21),se=a(279),oe=a(285),le=a(280),je=a(273),de=a(13),be=a(24),me=a(142),xe=a.n(me),ue=function(e){var t,a=localStorage.getItem("auth"),n="https://alkemy-challenge-api.herokuapp.com/api";return t=e||a?{baseURL:n,headers:{Authorization:"Bearer ".concat(e||a),"Content-Type":"application/x-www-form-urlencoded"}}:{baseURL:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}},[xe.a.create(t)]},he=a(29),Oe=a.n(he),pe=a(32),fe=a.n(pe),ge=Object(w.a)((function(e){return{textField:{width:"100%"}}})),ve=function(){var e=ge(),t=Object(c.useState)(Object(n.jsx)(c.Fragment,{})),a=Object(m.a)(t,2),r=a[0],i=a[1],s=ue(),o=Object(m.a)(s,1)[0],l=fe.a.debounce((function(e,t,a){return a(e,t)}),100),j=function(e,t){o.post("/users/login",Oe.a.stringify(e)).then((function(e){var a=e.data;t(!1),null!=a.error?window.location.reload():(localStorage.setItem("auth",a.token),i(Object(n.jsx)(b.a,{to:"/alkemy-challenge-front/dashboard"})))})).catch((function(e){t(!1),window.location.reload()}))};return Object(n.jsxs)(c.Fragment,{children:[r,Object(n.jsx)(de.c,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Ingresa un email v\xe1lido"):t.email="Debes ingresar un email",e.password||(t.password="Debes ingresar una contrase\xf1a"),t},onSubmit:function(e,t){var a=t.setSubmitting;l(e,a,j)},children:function(t){var a=t.submitForm,c=t.isSubmitting;return Object(n.jsx)(de.b,{children:Object(n.jsxs)(Y.a,{container:!0,spacing:2,children:[Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:e.textField,component:be.a,name:"email",type:"email",label:"Email*",color:"secondary"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:e.textField,component:be.a,type:"password",label:"Contrase\xf1a*",name:"password",color:"secondary"})}),c&&Object(n.jsx)(je.a,{}),Object(n.jsx)(d.b,{to:"/forgotpassword",children:Object(n.jsx)(Q.a,{variant:"caption",children:"Olvidaste tu contrase\xf1a?"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{mt:2,children:Object(n.jsx)(O.a,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0,disabled:c,onClick:a,children:"iniciar sesi\xf3n"})})})]})})}})]})},ye=a(224),we=a(274),ke=a(275),Ne=a(276),Se=a(277),Ce=a(278),Fe=Object(w.a)((function(e){return{textField:{width:"100%"}}})),Ee=r.a.forwardRef((function(e,t){return Object(n.jsx)(ye.a,Object(ae.a)({direction:"up",ref:t},e))})),We=function(){var e=Fe(),t=Object(c.useState)(!1),a=Object(m.a)(t,2),r=a[0],i=a[1],s=function(){i(!1)},o=ue(),l=Object(m.a)(o,1)[0],j=fe.a.debounce((function(e,t,a){return a(e,t)}),100),d=function(e,t){l.post("/users/signup",Oe.a.stringify(e)).then((function(e){var a=e.data;t(!1),null!=a.error?window.location.reload():i(!0)})).catch((function(e){t(!1),window.location.reload()}))},b=Object(n.jsxs)(we.a,{open:r,TransitionComponent:Ee,keepMounted:!0,onClose:s,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(ke.a,{id:"alert-dialog-slide-title",children:"Bienvenidx! Te hemos enviado un mail para verificar tu cuenta"}),Object(n.jsx)(Ne.a,{children:Object(n.jsx)(Se.a,{id:"alert-dialog-slide-description",children:"Sigue las instrucciones del mail para activar tu cuenta, te esperamos!"})}),Object(n.jsx)(Ce.a,{children:Object(n.jsx)(O.a,{onClick:s,color:"primary",children:"ok"})})]});return Object(n.jsxs)(c.Fragment,{children:[b,Object(n.jsx)(de.c,{initialValues:{email:"",password:"",passwordRepeat:"",first_name:"",last_name:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Ingresa un email v\xe1lido"):t.email="Debes ingresar un email",e.password?/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}$/.test(e.password)||(t.password="La contrase\xf1a debe tener: al menos 6 caracteres, una may\xfascula, una min\xfascula y un n\xfamero"):t.password="Debes ingresar una contrase\xf1a",e.passwordRepeat?e.passwordRepeat!==e.password&&(t.passwordRepeat="Las contrase\xf1as no coinciden"):t.passwordRepeat="Debes repetir tu contrase\xf1a",e.first_name||(t.first_name="Debes ingresar un nombre"),e.last_name||(t.last_name="Debes ingresar un apellido"),t},onSubmit:function(e,t){var a=t.setSubmitting;j(e,a,d)},children:function(t){var a=t.submitForm,c=t.isSubmitting;return Object(n.jsx)(de.b,{children:Object(n.jsxs)(Y.a,{container:!0,spacing:2,children:[Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:e.textField,component:be.a,name:"first_name",label:"Nombre*",color:"secondary"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:e.textField,component:be.a,name:"last_name",label:"Apellido*",color:"secondary"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:e.textField,component:be.a,name:"email",type:"email",label:"Email*",color:"secondary"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:e.textField,component:be.a,name:"password",type:"password",label:"Contrase\xf1a*",color:"secondary"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:e.textField,component:be.a,type:"password",label:"Repite tu contrase\xf1a*",name:"passwordRepeat",color:"secondary"})}),c&&Object(n.jsx)(je.a,{}),Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{mt:2,children:Object(n.jsx)(O.a,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0,disabled:c,onClick:a,children:"iniciar sesi\xf3n"})})})]})})}})]})},Te=Object(w.a)((function(e){return{container:{display:"flex",justifyContent:"center",marginTop:60},formContainer:{width:300},cardContainer:{minWidth:300,maxWidth:500,width:"90%"},root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function Ie(e){var t=e.children,a=e.value,c=e.index,r=Object(ne.a)(e,["children","value","index"]);return Object(n.jsx)("div",Object(ae.a)(Object(ae.a)({role:"tabpanel",hidden:a!==c,id:"full-width-tabpanel-".concat(c),"aria-labelledby":"full-width-tab-".concat(c)},r),{},{children:a===c&&Object(n.jsx)(h.a,{p:3,children:Object(n.jsx)(Q.a,{children:t})})}))}function Re(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var De=function(e){var t=Te(),a=Object(ie.a)(),c=r.a.useState(e.type),i=Object(m.a)(c,2),s=i[0],o=i[1];return Object(n.jsx)("div",{className:t.container,children:Object(n.jsx)("div",{className:t.cardContainer,children:Object(n.jsx)(se.a,{children:Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(p.a,{position:"static",color:"secondary",children:Object(n.jsxs)(oe.a,{value:s,onChange:function(e,t){o(t)},centered:!0,indicatorColor:"primary",children:[Object(n.jsx)(le.a,Object(ae.a)({label:"Inicia sesi\xf3n"},Re(0))),Object(n.jsx)(le.a,Object(ae.a)({label:"Registrate"},Re(1)))]})}),Object(n.jsxs)(re.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:s,onChangeIndex:function(e){o(e)},children:[Object(n.jsx)(Ie,{value:s,index:0,dir:a.direction,children:Object(n.jsx)(ve,{})}),Object(n.jsx)(Ie,{value:s,index:1,dir:a.direction,children:Object(n.jsx)(We,{})})]})]})})})})},Be=Object(w.a)((function(e){return{root:{display:"flex",minHeight:"100vh"},toolbar:e.mixins.toolbar,div:{width:"100%"}}}));var Me=function(e){var t=Be();return Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(K,{menu:!1}),Object(n.jsxs)("div",{className:t.div,children:[Object(n.jsx)("div",{className:t.toolbar}),Object(n.jsx)(De,{type:e.type})]})]})},Ae=a(281),Le=a(146),Ze=a(97),$e=a(31),_e=a(283),He=Object(w.a)((function(e){return{textField:{width:"100%",margin:0}}}));var Pe=function(){var e=[{value:1,label:"Ingreso"},{value:2,label:"Egreso"}],t=He(),a=Object(c.useState)(Object(n.jsx)(c.Fragment,{})),i=Object(m.a)(a,2),s=i[0],o=i[1],l=fe.a.debounce((function(e,t,a){return a(e,t)}),100),j=ue(),d=Object(m.a)(j,1)[0],x=function(e,t){d.post("/operations/create",Oe.a.stringify(e)).then((function(e){var a=e.data;t(!1),null!=a.error?window.location.reload():o(Object(n.jsx)(b.a,{to:"/alkemy-challenge-front/dashboard"}))})).catch((function(e){t(!1),window.location.reload()}))},u=r.a.useState(new Date),p=Object(m.a)(u,2),f=p[0],g=p[1],v=function(e){g(e)},y=r.a.useState(1),w=Object(m.a)(y,2),k=w[0],N=w[1],S=function(e){N(e.target.value)};return Object(n.jsxs)(c.Fragment,{children:[s,Object(n.jsx)(de.c,{initialValues:{concept:"",amount:"",date:"",type:""},validate:function(e){var t={};if(e.concept?e.concept.length>100&&(t.concept="El concepto tiene un m\xe1ximo de 100 caracteres"):t.concept="Debes ingresar un concepto",e.amount){var a=e.amount.split(""),n=!0;a.forEach((function(e){/^[0-9]$/.test(e)||(n=!1)})),n||(t.amount="El monto debe contener solo n\xfameros"),a.length>11&&(t.amount="No soportamos un monton tan grande")}else t.amount="Debes ingresar un monto";return e.type=k,void 0===e.type&&(t.type="Debes seleccionar un tipo de operaci\xf3n"),e.date=Object(Le.a)(f,"yyyy MM d"),"Invalid Date"===e.date&&(t.date="Fecha inv\xe1lida"),t},onSubmit:function(e,t){var a=t.setSubmitting;l(e,a,x)},children:function(a){var c=a.submitForm,r=a.isSubmitting;return Object(n.jsx)(de.b,{children:Object(n.jsxs)(Y.a,{container:!0,spacing:2,children:[Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:t.textField,component:be.a,name:"concept",label:"Concepto*",color:"secondary"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:t.textField,component:be.a,name:"amount",label:"Monto*",color:"secondary"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)($e.a,{utils:Ze.a,children:Object(n.jsx)(de.a,{component:_e.a,className:t.textField,name:"date",margin:"normal",id:"date-picker-dialog",label:"Fecha*",format:"MM/dd/yyyy",value:f,onChange:v,disabled:r,KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:t.textField,component:be.a,label:"Tipo de operaci\xf3n*",name:"type",color:"secondary",select:!0,value:k,onChange:S,children:e.map((function(e){return Object(n.jsx)(Ae.a,{value:e.value,children:e.label},e.value)}))})}),r&&Object(n.jsx)(je.a,{}),Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{mt:2,children:Object(n.jsx)(O.a,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0,disabled:r,onClick:c,children:"guardar operaci\xf3n"})})})]})})}})]})},Ve=Object(w.a)((function(e){return{root:{display:"flex",minHeight:"100vh"},toolbar:e.mixins.toolbar,container:{marginTop:30,display:"flex",justifyContent:"center",flexWrap:"wrap",maxWidth:800},content:{width:"100%"},card:{width:"90%",maxWidth:620,padding:20}}}));var ze=function(){var e=Ve();return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(K,{menu:!0}),Object(n.jsxs)("div",{className:e.content,children:[Object(n.jsx)("div",{className:e.toolbar}),Object(n.jsxs)(f.a,{className:e.container,children:[Object(n.jsx)(h.a,{mb:4,children:Object(n.jsx)(Q.a,{variant:"h3",align:"center",color:"secondary",children:"Agrega una operaci\xf3n"})}),Object(n.jsx)(se.a,{className:e.card,children:Object(n.jsx)(Pe,{})})]})]})]})},Ue=a(95),qe=a.n(Ue),Ge=a(96),Je=a.n(Ge),Ke=a(143),Ye=a.n(Ke),Qe=a(144),Xe=a.n(Qe),et=function(e){var t,a;return e.children&&(t=Object(n.jsx)(H.a,{children:e.children})),e.btns&&(a=Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(u.a,{edge:"end","aria-label":"edit",children:Object(n.jsx)(d.b,{to:e.link,children:Object(n.jsx)(Ye.a,{})})}),Object(n.jsx)(u.a,{edge:"end","aria-label":"delete",onClick:e.delete,children:Object(n.jsx)(Xe.a,{})})]})),Object(n.jsxs)(P.a,{children:[t,Object(n.jsx)(V.a,{primary:e.text,secondary:e.secondaryText}),a]})},tt=r.a.forwardRef((function(e,t){return Object(n.jsx)(ye.a,Object(ae.a)({direction:"up",ref:t},e))})),at=Object(w.a)((function(e){return{card:{width:"100%"}}}));var nt=function(e){var t=at(),a=Object(c.useState)([]),r=Object(m.a)(a,2),i=r[0],s=r[1],o=ue(),l=Object(m.a)(o,1)[0];Object(c.useEffect)((function(){l.get(e.url).then((function(e){var t=e.data;null==t.error&&s(t.operations)})).catch((function(e){console.log(e)}))}),[]);var j=Object(c.useState)(!1),d=Object(m.a)(j,2),b=d[0],x=d[1],u=Object(c.useState)(),p=Object(m.a)(u,2),f=p[0],g=p[1],v=function(){x(!1)},y=Object(n.jsxs)(we.a,{open:b,TransitionComponent:tt,keepMounted:!0,onClose:v,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(ke.a,{id:"alert-dialog-slide-title",children:"Estas seguro que quieres eliminar esta operaci\xf3n"}),Object(n.jsx)(Ne.a,{children:Object(n.jsx)(Se.a,{id:"alert-dialog-slide-description",children:"Si eliminas esta operaci\xf3n no podras recuperarla"})}),Object(n.jsxs)(Ce.a,{children:[Object(n.jsx)(O.a,{onClick:v,color:"primary",children:"cancelar"}),Object(n.jsx)(O.a,{onClick:function(){return t=f,void l.delete("/operations/delete/".concat(t)).then((function(a){if(null==a.data.error){var n=i.filter((function(e){return e.id!==t}));s(n),e.refreshBalance(),v()}})).catch((function(e){console.log(e)}));var t},color:"primary",children:"eliminar"})]})]});return Object(n.jsxs)(c.Fragment,{children:[y,Object(n.jsxs)(se.a,{className:t.card,children:[Object(n.jsx)(h.a,{my:1,children:Object(n.jsx)(Q.a,{color:"textSecondary",variant:"h5",align:"center",children:e.title||"\xdaltimas operaciones"})}),i.map((function(e){return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(F.a,{}),Object(n.jsx)(et,{delete:function(){return t=e.id,g(t),void x(!0);var t},link:"/edit/".concat(e.id),btns:!0,text:Object(n.jsxs)(Q.a,{color:"textSecondary",variant:"body2",children:[e.concept," | ",e.date]}),secondaryText:Object(n.jsxs)(Q.a,{color:"textSecondary",variant:"subtitle1",children:["ingreso"===e.type?Object(n.jsx)(qe.a,{}):Object(n.jsx)(Je.a,{})," $",e.amount]})})]},e.id)}))]})]})},ct=Object(w.a)((function(e){return{card:{width:"100%"}}}));var rt=function(){var e=ct(),t=Object(c.useState)({}),a=Object(m.a)(t,2),r=a[0],i=a[1],s=ue(),o=Object(m.a)(s,1)[0],l=function(){o.get("/operations/balance").then((function(e){var t=e.data;null==t.error&&i(t)})).catch((function(e){console.log(e)}))};return Object(c.useEffect)((function(){l()}),[]),Object(n.jsx)(f.a,{children:Object(n.jsxs)(Y.a,{container:!0,spacing:3,children:[Object(n.jsx)(Y.a,{item:!0,xs:12,sm:4,children:Object(n.jsxs)(se.a,{className:e.card,children:[Object(n.jsx)(et,{text:Object(n.jsx)(Q.a,{color:"textSecondary",variant:"subtitle1",children:"Balance actual"}),secondaryText:Object(n.jsxs)(Q.a,{color:"textSecondary",variant:"h6",children:["$ ",r.balance||0]})}),Object(n.jsx)(F.a,{}),Object(n.jsx)(et,{text:Object(n.jsxs)(Q.a,{color:"textSecondary",variant:"subtitle1",children:["Ingresos: ",r.incomes||0]}),secondaryText:Object(n.jsxs)(Q.a,{color:"textSecondary",variant:"h6",children:[Object(n.jsx)(qe.a,{})," $",r.incomesBalance||0]})}),Object(n.jsx)(F.a,{}),Object(n.jsx)(et,{text:Object(n.jsxs)(Q.a,{color:"textSecondary",variant:"subtitle1",children:["Egresos: ",r.expenses||0]}),secondaryText:Object(n.jsxs)(Q.a,{color:"textSecondary",variant:"h6",children:[Object(n.jsx)(Je.a,{})," $",r.expensesBalance||0]})})]})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:8,children:Object(n.jsx)(nt,{url:"/operations/list?limit=10&offset=0",refreshBalance:l})})]})})},it=Object(w.a)((function(e){return{root:{display:"flex",minHeight:"100vh"},toolbar:e.mixins.toolbar,content:{marginTop:30},width:{width:"100%"},grid:{width:"100%",maxWidth:1100}}}));var st=function(){var e=it();return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(K,{menu:!0}),Object(n.jsxs)("div",{className:e.width,children:[Object(n.jsx)("div",{className:e.toolbar}),Object(n.jsx)(f.a,{className:e.content,children:Object(n.jsx)(Y.a,{container:!0,spacing:3,className:e.toolbar,alignItems:"center",children:Object(n.jsx)(Y.a,{item:!0,xs:12,className:e.grid,children:Object(n.jsx)(rt,{})})})})]})]})},ot=Object(w.a)((function(e){return{root:{display:"flex",minHeight:"100vh"},toolbar:e.mixins.toolbar,content:{marginTop:30,maxWidth:800},width:{width:"100%"},grid:{width:"100%",maxWidth:1100}}}));var lt=function(e){var t=ot();return Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(K,{menu:!0}),Object(n.jsxs)("div",{className:t.width,children:[Object(n.jsx)("div",{className:t.toolbar}),Object(n.jsx)(f.a,{className:t.content,children:Object(n.jsx)(Y.a,{container:!0,spacing:3,justify:"center",alignItems:"center",children:Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(nt,{title:e.title,url:e.url})})})})]})]})},jt=Object(w.a)((function(e){return{textField:{width:"100%",margin:0}}}));var dt=function(){var e=jt(),t=Object(b.g)().id,a=r.a.useState(new Date),i=Object(m.a)(a,2),s=i[0],o=i[1],l=function(e){o(e)},j=Object(c.useState)(Object(n.jsx)(c.Fragment,{})),d=Object(m.a)(j,2),x=d[0],u=d[1],p=fe.a.debounce((function(e,t,a){return a(e,t)}),100),f=ue(),g=Object(m.a)(f,1)[0],v=function(e,a){g.patch("/operations/edit/".concat(t),Oe.a.stringify(e)).then((function(e){var t=e.data;a(!1),null!=t.error?window.location.reload():u(Object(n.jsx)(b.a,{to:"/alkemy-challenge-front/dashboard"}))})).catch((function(e){a(!1),window.location.reload()}))};return Object(n.jsxs)(c.Fragment,{children:[x,Object(n.jsx)(de.c,{initialValues:{concept:"",amount:"",date:""},validate:function(e){var t={};if(e.concept||(t.concept="Debes ingresar un concepto"),e.amount){var a=e.amount.split(""),n=!0;a.forEach((function(e){/^[0-9]$/.test(e)||(n=!1)})),n||(t.amount="El monto debe contener solo n\xfameros")}else t.amount="Debes ingresar un monto";return e.date=Object(Le.a)(s,"yyyy MM d"),"Invalid Date"===e.date&&(t.date="Fecha inv\xe1lida"),t},onSubmit:function(e,t){var a=t.setSubmitting;p(e,a,v)},children:function(t){var a=t.submitForm,c=t.isSubmitting;return Object(n.jsx)(de.b,{children:Object(n.jsxs)(Y.a,{container:!0,spacing:2,children:[Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:e.textField,component:be.a,name:"concept",label:"Nuevo concepto*",color:"secondary"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:e.textField,component:be.a,name:"amount",label:"Nuevo monto*",color:"secondary"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)($e.a,{utils:Ze.a,children:Object(n.jsx)(de.a,{component:_e.a,className:e.textField,name:"date",margin:"normal",id:"date-picker-dialog",label:"Fecha*",format:"MM/dd/yyyy",value:s,onChange:l,disabled:c,KeyboardButtonProps:{"aria-label":"change date"}})})}),c&&Object(n.jsx)(je.a,{}),Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{mt:2,children:Object(n.jsx)(O.a,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0,disabled:c,onClick:a,children:"guardar operaci\xf3n"})})})]})})}})]})},bt=Object(w.a)((function(e){return{root:{display:"flex",minHeight:"100vh"},toolbar:e.mixins.toolbar,container:{marginTop:30,display:"flex",justifyContent:"center",flexWrap:"wrap",maxWidth:800},content:{width:"100%"},card:{width:"90%",maxWidth:620,padding:20}}}));var mt=function(){var e=bt();return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(K,{menu:!0}),Object(n.jsxs)("div",{className:e.content,children:[Object(n.jsx)("div",{className:e.toolbar}),Object(n.jsxs)(f.a,{className:e.container,children:[Object(n.jsx)(h.a,{mb:4,children:Object(n.jsx)(Q.a,{variant:"h3",align:"center",color:"secondary",children:"Edita la operaci\xf3n"})}),Object(n.jsx)(se.a,{className:e.card,children:Object(n.jsx)(dt,{})})]})]})]})},xt=Object(w.a)((function(e){return{root:{display:"flex",minHeight:"100vh"},imgContainer:{minWidth:310},img:{width:"100%"},toolbar:e.mixins.toolbar,content:{marginTop:60},btnContainer:{display:"flex",justifyContent:"center"}}}));var ut=function(){var e=xt(),t=Object(b.g)().token,a=Object(c.useState)(""),r=Object(m.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)(),l=Object(m.a)(o,2),j=l[0],x=l[1],u=ue(),p=Object(m.a)(u,1)[0];return Object(c.useEffect)((function(){p.post("/users/email-activate",Oe.a.stringify({token:t})).then((function(t){null!=t.data.error?(s("No pudimos activar tu cuenta, intenta registrate nuevamente"),x(Object(n.jsx)(h.a,{mt:3,className:e.btnContainer,children:Object(n.jsx)(d.b,{to:"/alkemy-challenge-front/signup",children:Object(n.jsx)(O.a,{variant:"contained",color:"secondary",children:"Registrate"})})}))):(s("Tu cuenta se verific\xf3 correctamente! Ya podes iniciar sesi\xf3n"),x(Object(n.jsx)(h.a,{mt:3,className:e.btnContainer,children:Object(n.jsx)(d.b,{to:"/alkemy-challenge-front/signin",children:Object(n.jsx)(O.a,{variant:"contained",color:"secondary",children:"Inicia sesi\xf3n!"})})})))})).catch((function(t){s("No pudimos activar tu cuenta, intenta registrate nuevamente"),x(Object(n.jsx)(h.a,{mt:3,className:e.btnContainer,children:Object(n.jsx)(d.b,{to:"/alkemy-challenge-front/signup",children:Object(n.jsx)(O.a,{variant:"contained",color:"secondary",children:"Registrate"})})}))}))}),[t,e]),Object(n.jsx)(c.Fragment,{children:Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(K,{menu:!1}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:e.toolbar}),Object(n.jsx)(f.a,{className:e.content,children:Object(n.jsxs)(Y.a,{container:!0,spacing:3,className:e.toolbar,alignItems:"center",children:[Object(n.jsx)(Y.a,{item:!0,xs:8,sm:6,className:e.imgContainer,children:Object(n.jsx)("img",{src:X,alt:"home-img",className:e.img})}),Object(n.jsxs)(Y.a,{item:!0,xs:12,sm:6,className:e.div,children:[Object(n.jsx)(Q.a,{variant:"h4",component:"h1",align:"center",color:"textPrimary",children:i}),j]})]})})]})]})})},ht=Object(w.a)((function(e){return{textField:{width:"100%",margin:0}}}));var Ot=function(e){var t=ht(),a=e.resetLink,r=Object(c.useState)(Object(n.jsx)(c.Fragment,{})),i=Object(m.a)(r,2),s=i[0],o=i[1],l=ue(),j=Object(m.a)(l,1)[0],d=fe.a.debounce((function(e,t,a){return a(e,t)}),100),x=function(e,t){e.resetLink=a,j.patch("/users/reset-password",Oe.a.stringify(e)).then((function(e){var a=e.data;t(!1),null!=a.error?window.location.reload():o(Object(n.jsx)(b.a,{to:"/alkemy-challenge-front/signin"}))})).catch((function(e){t(!1),window.location.reload()}))};return Object(n.jsxs)(c.Fragment,{children:[s,Object(n.jsx)(de.c,{initialValues:{password:"",passwordRepeat:""},validate:function(e){var t={};return e.password?/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}$/.test(e.password)||(t.password="La contrase\xf1a debe tener: al menos 6 caracteres, una may\xfascula, una min\xfascula y un n\xfamero"):t.password="Debes ingresar una contrase\xf1a",e.passwordRepeat?e.passwordRepeat!==e.password&&(t.passwordRepeat="Las contrase\xf1as no coinciden"):t.passwordRepeat="Debes repetir tu contrase\xf1a",t},onSubmit:function(e,t){var a=t.setSubmitting;d(e,a,x)},children:function(e){var a=e.submitForm,c=e.isSubmitting;return Object(n.jsx)(de.b,{children:Object(n.jsxs)(Y.a,{container:!0,spacing:2,children:[Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:t.textField,component:be.a,type:"password",name:"password",label:"Nueva contrase\xf1a*",color:"secondary"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:t.textField,component:be.a,type:"password",name:"passwordRepeat",label:"Repite la contrase\xf1a*",color:"secondary"})}),c&&Object(n.jsx)(je.a,{}),Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{mt:2,children:Object(n.jsx)(O.a,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0,disabled:c,onClick:a,children:"Confirmar contrase\xf1a"})})})]})})}})]})},pt=Object(w.a)((function(e){return{root:{display:"flex",minHeight:"100vh"},toolbar:e.mixins.toolbar,container:{marginTop:30,display:"flex",justifyContent:"center",flexWrap:"wrap",maxWidth:800},content:{width:"100%"},card:{width:"90%",maxWidth:620,padding:20}}}));var ft=function(){var e=pt(),t=Object(b.g)().resetLink,a=Object(c.useState)(Object(n.jsx)(c.Fragment,{})),r=Object(m.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)(Object(n.jsx)(se.a,{className:e.card,children:Object(n.jsx)(Ot,{resetLink:t})})),l=Object(m.a)(o,2),j=l[0],d=l[1],x=ue(),u=Object(m.a)(x,1)[0],O=fe.a.debounce((function(e){return e()}),100),p=function(){u.post("/users/reset-password/check-token",Oe.a.stringify({resetLink:t})).then((function(e){null!=e.data.error?(s(Object(n.jsx)(Q.a,{variant:"h3",align:"center",color:"secondary",children:"El link para cambiar tu contrase\xf1a no es correcto o ya expir\xf3"})),d(void 0)):s(Object(n.jsx)(Q.a,{variant:"h3",align:"center",color:"secondary",children:"Modifica tu contrase\xf1a"}))})).catch((function(e){s(Object(n.jsx)(Q.a,{variant:"h3",align:"center",color:"secondary",children:"El link para cambiar tu contrase\xf1a no es correcto o ya expir\xf3"})),d(void 0)}))};return Object(c.useEffect)((function(){O(p)}),[]),Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(K,{}),Object(n.jsxs)("div",{className:e.content,children:[Object(n.jsx)("div",{className:e.toolbar}),Object(n.jsxs)(f.a,{className:e.container,children:[Object(n.jsx)(h.a,{mb:4,children:i}),j]})]})]})},gt=r.a.forwardRef((function(e,t){return Object(n.jsx)(ye.a,Object(ae.a)({direction:"up",ref:t},e))})),vt=Object(w.a)((function(e){return{root:{display:"flex",minHeight:"100vh"},toolbar:e.mixins.toolbar,container:{marginTop:30,display:"flex",justifyContent:"center",flexWrap:"wrap",maxWidth:800},content:{width:"100%"},card:{width:"90%",maxWidth:620,padding:20},textField:{width:"100%"}}}));var yt=function(){var e=vt(),t=ue(),a=Object(m.a)(t,1)[0],r=fe.a.debounce((function(e,t,a){return a(e,t)}),100),i=function(e,t){a.patch("/users/forgot-password",Oe.a.stringify(e)).then((function(e){var a=e.data;t(!1),null!=a.error?window.location.reload():d()})).catch((function(e){t(!1),window.location.reload()}))},s=Object(c.useState)(!1),o=Object(m.a)(s,2),l=o[0],j=o[1],d=function(){j(!0)},b=function(){j(!1)},x=Object(n.jsxs)(we.a,{open:l,TransitionComponent:gt,keepMounted:!0,onClose:b,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(ke.a,{id:"alert-dialog-slide-title",children:"Te hemos enviado un mail"}),Object(n.jsx)(Ne.a,{children:Object(n.jsx)(Se.a,{id:"alert-dialog-slide-description",children:"Sigue las instrucciones del mail para recuperar tu contrase\xf1a!"})}),Object(n.jsx)(Ce.a,{children:Object(n.jsx)(O.a,{onClick:b,color:"primary",children:"ok"})})]});return Object(n.jsxs)("div",{className:e.root,children:[x,Object(n.jsx)(K,{}),Object(n.jsxs)("div",{className:e.content,children:[Object(n.jsx)("div",{className:e.toolbar}),Object(n.jsxs)(f.a,{className:e.container,children:[Object(n.jsx)(h.a,{mb:4,children:Object(n.jsx)(Q.a,{variant:"h3",align:"center",color:"secondary",children:"Escribe tu mail para recuperar la contrase\xf1a"})}),Object(n.jsx)(se.a,{className:e.card,children:Object(n.jsx)(de.c,{initialValues:{email:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Ingresa un email v\xe1lido"):t.email="Debes ingresar un email",t},onSubmit:function(e,t){var a=t.setSubmitting;r(e,a,i)},children:function(t){var a=t.submitForm,c=t.isSubmitting;return Object(n.jsx)(de.b,{children:Object(n.jsxs)(Y.a,{container:!0,spacing:2,children:[Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(de.a,{className:e.textField,component:be.a,name:"email",label:"Email*",color:"secondary"})}),c&&Object(n.jsx)(je.a,{}),Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{mt:2,children:Object(n.jsx)(O.a,{variant:"contained",color:"secondary",type:"submit",fullWidth:!0,disabled:c,onClick:a,children:"Enviar mail"})})})]})})}})})]})]})]})};var wt=function(){return localStorage.clear(),sessionStorage.clear(),Object(n.jsx)(b.a,{to:"/alkemy-challenge-front/"})},kt=function(){var e=localStorage.getItem("auth"),t=sessionStorage.getItem("auth"),a=ue(e),n=Object(m.a)(a,1)[0];return[new Promise((function(a,c){e&&!t?n.post("/users/check-token").then((function(e){var t=e.data;null==t.error?(sessionStorage.setItem("auth",t.token),a(!0)):(localStorage.removeItem("auth"),a(!1))})).catch((function(e){return c(!1)})):a(!!e)}))]};var Nt=function(e){var t=kt(),a=Object(m.a)(t,1)[0];Object(c.useEffect)((function(){var t=e.component,c=Object(n.jsx)(b.a,{to:"/alkemy-challenge-front/signin"});a.then((function(e){o(e?t:c)})).catch((function(e){return o(c)}))}),[e.component]);var r=Object(c.useState)(),i=Object(m.a)(r,2),s=i[0],o=i[1];return Object(n.jsx)(c.Fragment,{children:void 0===s?Object(n.jsx)(c.Fragment,{}):s})};var St=function(e){var t=kt(),a=Object(m.a)(t,1)[0];Object(c.useEffect)((function(){var t=e.component,c=Object(n.jsx)(b.a,{to:"/alkemy-challenge-front/dashboard"});a.then((function(e){o(e?c:t)})).catch((function(e){return o(t)}))}),[e.component]);var r=Object(c.useState)(),i=Object(m.a)(r,2),s=i[0],o=i[1];return Object(n.jsx)(c.Fragment,{children:void 0===s?Object(n.jsx)(c.Fragment,{}):s})};var Ct=function(){return Object(n.jsx)(d.a,{children:Object(n.jsx)(o.a,{theme:j,children:Object(n.jsxs)(b.d,{children:[Object(n.jsx)(b.b,{path:"/alkemy-challenge-front/authentication/activate/:token",children:Object(n.jsx)(ut,{})}),Object(n.jsx)(b.b,{path:"/alkemy-challenge-front/edit/:id",exact:!0,children:Object(n.jsx)(Nt,{component:Object(n.jsx)(mt,{})})}),Object(n.jsx)(b.b,{path:"/alkemy-challenge-front/income",exact:!0,children:Object(n.jsx)(Nt,{component:Object(n.jsx)(lt,{title:"\xdaltimos ingresos",url:"/operations/list?limit=50&offset=0&type=ingreso"})})}),Object(n.jsx)(b.b,{path:"/alkemy-challenge-front/expenses",exact:!0,children:Object(n.jsx)(Nt,{component:Object(n.jsx)(lt,{title:"\xdaltimos egresos",url:"/operations/list?limit=50&offset=0&type=egreso"})})}),Object(n.jsx)(b.b,{path:"/alkemy-challenge-front/dashboard",exact:!0,children:Object(n.jsx)(Nt,{component:Object(n.jsx)(st,{})})}),Object(n.jsx)(b.b,{path:"/alkemy-challenge-front/new-operation",exact:!0,children:Object(n.jsx)(Nt,{component:Object(n.jsx)(ze,{})})}),Object(n.jsx)(b.b,{path:"/alkemy-challenge-front/logout",exact:!0,children:Object(n.jsx)(Nt,{component:Object(n.jsx)(wt,{})})}),Object(n.jsx)(b.b,{path:"/alkemy-challenge-front/forgotpassword",exact:!0,children:Object(n.jsx)(St,{component:Object(n.jsx)(yt,{})})}),Object(n.jsx)(b.b,{path:"/alkemy-challenge-front/resetpassword/:resetLink",exact:!0,children:Object(n.jsx)(St,{component:Object(n.jsx)(ft,{})})}),Object(n.jsx)(b.b,{path:"/alkemy-challenge-front/signin",exact:!0,children:Object(n.jsx)(St,{component:Object(n.jsx)(Me,{type:0})})}),Object(n.jsx)(b.b,{path:"/alkemy-challenge-front/signup",exact:!0,children:Object(n.jsx)(St,{component:Object(n.jsx)(Me,{type:1})})}),Object(n.jsx)(b.b,{path:"/alkemy-challenge-front/",exact:!0,children:Object(n.jsx)(St,{component:Object(n.jsx)(te,{})})}),Object(n.jsx)(b.b,{path:"/alkemy-challenge-front/*",children:Object(n.jsx)(St,{component:Object(n.jsx)(b.a,{to:"/"})})})]})})})};s.a.render(Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(Ct,{}),Object(n.jsx)("footer",{children:"\xa9 M\xe1ximo De Michieli"})]}),document.getElementById("root"))}},[[221,1,2]]]);
//# sourceMappingURL=main.bde10a55.chunk.js.map